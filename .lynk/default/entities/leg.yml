name: leg

description: ''

key_table: networx_prod.core.legs_dim

aliases: []

features:
- type: first_last
  name: lcr_requested_at
  data_type: string
  asset: networx_src.networx_global.ng_item_history
  join_name: null
  time_field: null
  filters:
  - type: field
    field: history_type_id
    operator: is
    values:
    - '27'
  options:
    method: first
    sort_by: created_at
    field: created_at
    data_type: null
- type: first_last
  name: lcr_approved_at
  data_type: string
  asset: networx_src.networx_global.ng_item_history
  join_name: null
  time_field: null
  filters:
  - type: field
    field: history_type_id
    operator: is
    values:
    - '28'
  options:
    method: first
    sort_by: created_at
    field: created_at
    data_type: null
- type: first_last
  name: lcr_resolution_at
  data_type: string
  asset: networx_src.networx_global.ng_item_history
  join_name: null
  time_field: null
  filters:
  - type: field
    field: history_type_id
    operator: is
    values:
    - '28'
    - '29'
  options:
    method: first
    sort_by: created_at
    field: created_at
    data_type: null
- type: first_last
  name: lcr_requested_at_agent_id
  data_type: string
  asset: networx_src.networx_global.ng_item_history
  join_name: null
  time_field: null
  filters:
  - type: field
    field: history_type_id
    operator: is
    values:
    - '27'
  - type: field
    field: user_table_id
    operator: is
    values:
    - '30'
  options:
    method: first
    sort_by: created_at
    field: user_id
    data_type: null
- type: first_last
  name: lcr_resolution_at_agent_id
  data_type: string
  asset: networx_src.networx_global.ng_item_history
  join_name: null
  time_field: null
  filters:
  - type: field
    field: history_type_id
    operator: is
    values:
    - '28'
    - '29'
  - type: field
    field: user_table_id
    operator: is
    values:
    - '30'
  options:
    method: first
    sort_by: created_at
    field: user_id
    data_type: null
- type: first_last
  name: status_date
  data_type: string
  asset: networx_src.networx_global.ng_item_history
  join_name: null
  time_field: null
  filters:
  - type: field
    field: history_type_id
    operator: is
    values:
    - '80'
  options:
    method: first
    sort_by: created_at
    field: created_at
    data_type: null
- type: field
  name: lcr_requested_by
  data_type: string
  asset: networx_prod.core.legs_lifetime__history
  join_name: null
  time_field: null
  filters: []
  field: lcr_requested_by
- type: field
  name: has_consent
  data_type: string
  asset: networx_prod.core.legs_lifetime__history
  join_name: null
  time_field: null
  filters: []
  field: has_consent
- type: metric
  name: first_app_call
  data_type: number
  asset: networx_src.networx_global.ng_clients_lead_call_tracking
  join_name: null
  time_field: null
  filters:
  - type: field
    field: duration
    operator: gt
    values:
    - 1
  measure: first_app_call
- type: metric
  name: has_notes
  data_type: number
  asset: networx_src.networx_global.ng_clients_lead_notes
  join_name: null
  time_field: null
  filters: []
  measure: has_notes
- type: metric
  name: note_date
  data_type: number
  asset: networx_src.networx_global.ng_clients_lead_notes
  join_name: null
  time_field: null
  filters: []
  measure: note_date

related_assets:
  networx_src.networx_global.ng_clients_lead_notes:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: leg_id
        destination: clients_lead_id
        operator: equal
  networx_src.networx_global.ng_clients_lead_call_tracking:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: leg_id
        destination: clients_lead_id
        operator: equal
  networx_prod.core.legs_lifetime__history:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: leg_id
        destination: leg_id
        operator: equal
  networx_src.networx_global.ng_item_history:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: leg_id
        destination: item_id
        operator: equal
  networx_prod.core.legs_dim:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: leg_id
        destination: leg_id
        operator: equal
