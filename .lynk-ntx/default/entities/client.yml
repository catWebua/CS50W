name: client

description: ''

key_table: networx_prod.core.client_dim

aliases: []

features:
- type: first_last
  name: last_call_at
  data_type: null
  asset: networx_prod.communications.phone_call_dim
  join_name: null
  time_field: null
  filters: []
  options:
    method: last
    sort_by: created_at
    field: created_at
    data_type: null
- type: first_last
  name: last_call_dial_status
  data_type: null
  asset: networx_prod.communications.phone_call_dim
  join_name: null
  time_field: null
  filters: []
  options:
    method: last
    sort_by: created_at
    field: dial_call_status
    data_type: null
- type: first_last
  name: last_call_direction
  data_type: null
  asset: networx_prod.communications.phone_call_dim
  join_name: null
  time_field: null
  filters: []
  options:
    method: last
    sort_by: created_at
    field: direction
    data_type: null
- type: first_last
  name: last_call_duration
  data_type: null
  asset: networx_prod.communications.phone_call_dim
  join_name: null
  time_field: null
  filters: []
  options:
    method: last
    sort_by: created_at
    field: duration
    data_type: null
- type: first_last
  name: first_leg_date
  data_type: null
  asset: networx_prod.core.legs_dim
  join_name: null
  time_field: null
  filters:
  - type: field
    field: received_at
    operator: is_set
    values: null
  options:
    method: first
    sort_by: created_at
    field: created_at
    data_type: null
- type: metric
  name: total_legs
  data_type: null
  asset: networx_prod.core.legs_dim
  join_name: null
  time_field: null
  filters:
  - type: field
    field: received_at
    operator: is_set
    values: null
  measure: total_legs
- type: metric
  name: first_client_note_at
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_client
  time_field: null
  filters: []
  measure: first_client_note_at
- type: metric
  name: last_client_note_at
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_client
  time_field: null
  filters: []
  measure: last_client_note_at
- type: metric
  name: client_note_count
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_client
  time_field: null
  filters: []
  measure: client_note_count
- type: metric
  name: first_client_intro_at
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_item
  time_field: null
  filters: []
  measure: first_client_intro_at
- type: metric
  name: last_client_intro_at
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_item
  time_field: null
  filters: []
  measure: last_client_intro_at
- type: metric
  name: client_intro_count
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_item
  time_field: null
  filters: []
  measure: client_intro_count
- type: metric
  name: first_client_check_in_at
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_item
  time_field: null
  filters: []
  measure: first_client_check_in_at
- type: metric
  name: last_client_check_in_at
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_item
  time_field: null
  filters: []
  measure: last_client_check_in_at
- type: metric
  name: client_check_in_count
  data_type: number
  asset: networx_src.networx_global.ng_item_history
  join_name: client_item
  time_field: null
  filters: []
  measure: client_check_in_count
- type: metric
  name: client_current_budget
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: client_current_budget
- type: metric
  name: client_count_product
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: product_count
- type: metric
  name: client_count_sale_product
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: client_count_sale_product
- type: metric
  name: client_signup_budget
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: client_signup_budget
- type: metric
  name: first_sale_signup_network_priority_id
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: first_sale_signup_network_priority_id
- type: metric
  name: client_current_balance
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: client_current_balance
- type: metric
  name: count_different_networks
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: count_different_networks
- type: metric
  name: operating_products
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: operating_products
- type: metric
  name: client_signup_cycle
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: client_signup_cycle
- type: metric
  name: client_current_cycle
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: client_current_cycle
- type: metric
  name: client_count_sales
  data_type: number
  asset: sale
  join_name: client_sale_lookup
  time_field: null
  filters: []
  measure: client_count_sales
- type: metric
  name: operating_sales
  data_type: number
  asset: sale
  join_name: client_sale_lookup
  time_field: null
  filters: []
  measure: operating_sales
- type: metric
  name: client_industry
  data_type: number
  asset: networx_src.networx_global.ng_networks
  join_name: ng_networx_via_lookup
  time_field: null
  filters: []
  measure: client_industry
- type: metric
  name: first_sale_date
  data_type: number
  asset: product
  join_name: null
  time_field: null
  filters:
  - type: field
    field: activated_at
    operator: is_set
    values: null
  measure: first_sale_date
- type: first_last
  name: sale_current_budget
  data_type: number
  asset: sale
  join_name: direct_client_sale
  time_field: null
  filters: []
  options:
    method: first
    sort_by: client_current_budget
    field: id
    data_type: null

related_assets:
  networx_src.networx_global.ng_clients_history:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_networks:
    relationship: one_to_many
    joins:
    - name: ng_networx_via_lookup
      default: true
      type: lookup
      lookup:
      - destination: networx_prod.core.product_dim
        type: fields
        fields:
        - source: client_id
          destination: client_id
          operator: equal
      - destination: networx_src.networx_global.ng_networks
        type: sql
        sql: '{source}.{is_sale_product} and {source}.{main_signup_network_priority_id}
          = {destination}.{priority_id} and {source}.{activated_at} is not null'
  networx_src.networx_global.ng_client_activation:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_loanglide_clients:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.communications.phone_call_dim:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.client_active_status_log:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.client_blacklist_status_log:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.clients_lifecycle:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.sale_dim__declined_bills:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_client_to_user:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.sale_decline_dim:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.reports.phone_call_daily_story:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.client_lifecycle__approved_bills:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.sale_dim__approved_bills:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_client_prompting:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.client_lifecycle__base:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.product_daily:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.client_lifecycle__declined_bills:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.phone_call_dim__network:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_client_data:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.enterprise_pro_status_log:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_clients_lead:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.legs_dim:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.sale_dim__base:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_item_history:
    relationship: one_to_many
    joins:
    - name: client_item
      default: true
      type: fields
      fields:
      - source: client_id
        destination: item_id
        operator: equal
    - name: client_client
      default: false
      type: sql
      sql: '{source}.{client_id} ={destination}.{client_id}'
  networx_src.networx_global.ng_bills:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: item_id
        destination: item_id
        operator: equal
  networx_src.networx_global.ng_enterprise_pro_clients:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_client_interest:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.core.client_dim:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_patment_methods:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_src.networx_global.ng_clients:
    relationship: one_to_one
    joins:
    - default: true
      type: fields
      fields:
      - source: client_id
        destination: client_id
        operator: equal
  networx_prod.finance.cost_log__cpc:
    relationship: one_to_many
    joins:
    - default: true
      type: fields
      fields:
      - source: item_id
        destination: item_id
        operator: equal
